<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 ç¾è¥¿å­è¦ªä¹‹æ—…</title>
    <style>
        :root { 
            --primary: #00897b; 
            --bg: #f5f5f5; 
            --card-bg: #ffffff; 
            --text: #333; 
            --danger: #e53935; 
            --highlight: #e0f2f1; 
            --base-font-size: 18px; /* å…¨åŸŸå­—é«”è®Šæ•¸ */
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            background: var(--bg); 
            color: var(--text); 
            margin: 0; 
            padding-bottom: 80px; 
            font-size: var(--base-font-size); /* ç¶å®šè®Šæ•¸ */
            line-height: 1.6; 
            transition: font-size 0.2s;
        }
        
        /* é ‚éƒ¨å°èˆªåˆ— */
        header { 
            background: var(--primary); 
            color: white; 
            padding: 15px 20px; 
            position: sticky; 
            top: 0; 
            z-index: 100; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.2); 
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header-left h1 { margin: 0; font-size: 1.2rem; }
        .header-left p { margin: 5px 0 0; font-size: 0.8rem; opacity: 0.9; }
        
        /* å…¨åŸŸå­—é«”èª¿æ•´æŒ‰éˆ• */
        .global-font-ctrl { display: flex; gap: 5px; }
        .g-btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.5);
            color: white;
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 14px;
        }

        .container { padding: 15px; max-width: 800px; margin: 0 auto; }
        .card { background: var(--card-bg); border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        h2 { color: var(--primary); margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 10px; font-size: 1.2rem; }
        h3 { margin: 15px 0 10px; font-size: 1.1rem; color: #444; font-weight: bold; }
        
        .time-table { width: 100%; border-collapse: separate; border-spacing: 0 15px; margin-top: 5px; }
        .time-table th { color: var(--primary); white-space: nowrap; width: 70px; vertical-align: top; font-weight: bold; padding-top: 5px; }
        .time-table td { padding-left: 10px; vertical-align: top; }
        
        details { width: 100%; }
        summary { cursor: pointer; color: #0277bd; font-weight: 500; list-style: none; position: relative; padding: 5px 30px 5px 0; outline: none; }
        summary::-webkit-details-marker { display: none; }
        summary::after { content: '+'; position: absolute; right: 0; top: 5px; color: #999; font-weight: bold; font-size: 1.2em; }
        details[open] summary::after { content: '-'; color: var(--primary); }
        details[open] summary { color: var(--primary); font-weight: bold; border-bottom: 1px dashed #eee; margin-bottom: 8px; }

        .detail-content { 
            background: var(--highlight); 
            padding: 15px; 
            border-radius: 8px; 
            font-size: 0.95em; 
            color: #444;
            line-height: 1.7;
        }
        
        .img-container { margin-top: 15px; border-radius: 8px; overflow: hidden; background: #ddd; min-height: 100px; display: flex; align-items: center; justify-content: center; color: #666; }
        .img-container img { width: 100%; height: auto; display: block; }

        .alert { padding: 15px; border-radius: 8px; margin-bottom: 20px; background: #e3f2fd; border-left: 5px solid #2196f3; }
        .alert.danger { background: #ffebee; border-left-color: var(--danger); }
        .btn { display: inline-block; background: var(--primary); color: white; padding: 10px 20px; border-radius: 25px; text-decoration: none; font-size: 0.9em; margin-top: 10px; text-align: center; width: 100%; }
        
        /* åº•éƒ¨ Tab */
        .tab-bar { position: fixed; bottom: 0; left: 0; width: 100%; background: white; display: flex; overflow-x: auto; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); z-index: 1000; padding: 10px 0; }
        .tab { flex: 0 0 auto; padding: 8px 15px; text-align: center; color: #888; cursor: pointer; font-size: 14px; min-width: 60px; }
        .tab.active { color: var(--primary); font-weight: bold; border-bottom: 3px solid var(--primary); }
        .page { display: none; } .page.active { display: block; }

        /* ç·¨è¼¯æ¨¡å¼ */
        [contenteditable="true"] { border: 1px dashed #ccc; padding: 2px; min-height: 20px; background: #fffbe6; }
        .fab-container { position: fixed; bottom: 90px; right: 20px; z-index: 2000; display: flex; flex-direction: column; gap: 10px; }
        .fab { width: 50px; height: 50px; border-radius: 25px; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 10px rgba(0,0,0,0.3); border: none; font-size: 20px; cursor: pointer; }
        .fab.save { background: #4caf50; display: none; }
        .fab.export { background: #ff9800; display: none; }
        
        /* æ–°å¢è¡Œç¨‹æŒ‰éˆ• (åƒ…ç·¨è¼¯æ¨¡å¼é¡¯ç¤º) */
        .add-trip-btn { display: none; width: 100%; padding: 10px; border: 2px dashed #ccc; background: #f9f9f9; color: #666; cursor: pointer; margin-top: 15px; border-radius: 8px; }
        .add-trip-btn:hover { background: #eee; border-color: #999; }
    </style>
</head>
<body>

<!-- æµ®å‹•æŒ‰éˆ• -->
<div class="fab-container">
    <button class="fab" id="editBtn" onclick="toggleEditMode()">âœï¸</button>
    <button class="fab save" id="saveBtn" onclick="saveContent()">ğŸ’¾</button>
    <button class="fab export" id="exportBtn" onclick="exportHtml()">ğŸ“¤</button>
</div>

<header>
    <div class="header-left">
        <h1 class="editable">2026 ç¾è¥¿å­è¦ªä¹‹æ—…</h1>
        <p class="editable">2/13 - 2/22 (å…±10å¤©)</p>
    </div>
    <!-- å…¨åŸŸå­—é«”èª¿æ•´ -->
    <div class="global-font-ctrl">
        <button class="g-btn" onclick="changeGlobalFont(-2)">A-</button>
        <button class="g-btn" onclick="changeGlobalFont(2)">A+</button>
    </div>
</header>

<div class="container" id="mainContent">

    <!-- [Home] -->
    <div id="home" class="page active">
        <div class="alert danger">
            <strong class="editable">ğŸ†˜ ç·Šæ€¥è¯çµ¡å¡</strong>
            <div class="editable">
                å…’å­çš„é›»è©±: +1-123-456-7890<br>
                å¤–äº¤éƒ¨æ€¥é›£æ•‘åŠ©: +1-213-382-7720
            </div>
        </div>
        <div class="card">
            <h2 class="editable">è¡Œç¨‹ç¸½è¡¨</h2>
            <p class="editable">è«‹é»æ“Šä¸‹æ–¹æ—¥æœŸæ¨™ç±¤æŸ¥çœ‹æ¯æ—¥è©³ç´°è¡Œç¨‹ã€‚</p>
        </div>
    </div>

    <!-- [Day 1] -->
    <div id="day1" class="page">
        <div class="card">
            <h2 class="editable">Day 1: æŠµé”æ´›æ‰ç£¯</h2>
            <div class="alert">
                <strong class="editable">ğŸ’¡ æœ¬æ—¥é‡é»</strong>
                <div class="editable">é•·é€”é£›è¡Œè¾›è‹¦äº†ï¼Œä»Šå¤©ç›®æ¨™åªæœ‰é †åˆ©å–è»Šï¼Œæ—©é»å›é£¯åº—ä¼‘æ¯ã€‚</div>
            </div>
            
            <table class="time-table" id="table-day1">
                <tr><th class="editable">14:00</th><td>
                    <details>
                        <summary class="editable">æŠµé” LAX æ©Ÿå ´</summary>
                        <div class="detail-content">
                            <div class="editable-content editable">
                                â€¢ èˆªå»ˆï¼šTom Bradley (TBIT)<br>
                                â€¢ å…¥å¢ƒï¼šè·Ÿè‘— "Arrivals" æŒ‡æ¨™ï¼Œå…¨å®¶ä¸€èµ·éæµ·é—œã€‚<br>
                                â€¢ æ¥é§è»Šï¼šå‡ºå¤§é–€æ‰¾ç´«è‰² "Rental Car Shuttles" ç«™ç‰Œã€‚
                            </div>
                            <div class="img-container">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/LAX_Theme_Building.jpg/640px-LAX_Theme_Building.jpg" class="editable-img">
                            </div>
                        </div>
                    </details>
                </td></tr>
            </table>
            <!-- è‡ªå‹•æ–°å¢æŒ‰éˆ• -->
            <button class="add-trip-btn" onclick="addTripRow('table-day1')">â• æ–°å¢ä¸€å€‹è¡Œç¨‹</button>
            
            <h3 class="editable">ğŸ¨ ä½å®¿è³‡è¨Š</h3>
            <div class="editable"><strong>Hilton Santa Monica</strong><br>åœ°å€ï¼š1707 4th St, Santa Monica</div>
            <a href="https://maps.google.com/?q=Hilton+Santa+Monica" class="btn editable-link">ğŸ“ é–‹å•Ÿ Google å°èˆª</a>
        </div>
    </div>

    <!-- [Day 2] -->
    <div id="day2" class="page">
        <div class="card">
            <h2 class="editable">Day 2: æ´›æ‰ç£¯è—æ–‡</h2>
            <table class="time-table" id="table-day2">
                <tr><th class="editable">09:30</th><td>
                    <details>
                        <summary class="editable">è“‹è’‚ä¸­å¿ƒ</summary>
                        <div class="detail-content">
                            <div class="editable-content editable">
                                â€¢ ç‰¹è‰²ï¼šæ­å…è²»é›»è»Šä¸Šå±±ï¼Œç™½è‰²å»ºç¯‰è¶…ç¾ã€‚<br>
                                â€¢ å¿…çœ‹ï¼šæ¢µè°·ã€Šé³¶å°¾èŠ±ã€‹åœ¨è¥¿é¤¨ã€‚
                            </div>
                            <div class="img-container"><div class="editable">(é»æ“Šæ›åœ–)</div></div>
                        </div>
                    </details>
                </td></tr>
            </table>
            <button class="add-trip-btn" onclick="addTripRow('table-day2')">â• æ–°å¢ä¸€å€‹è¡Œç¨‹</button>
        </div>
    </div>

    <!-- [Day 3] -->
    <div id="day3" class="page">
        <div class="card">
            <h2 class="editable">Day 3: å¥½èŠå¡¢</h2>
            <table class="time-table" id="table-day3">
                <tr><th class="editable">10:00</th><td>
                    <details>
                        <summary class="editable">å¤©æ–‡å°</summary>
                        <div class="detail-content"><div class="editable-content editable">è©³ç´°ä»‹ç´¹...</div></div>
                    </details>
                </td></tr>
            </table>
            <button class="add-trip-btn" onclick="addTripRow('table-day3')">â• æ–°å¢ä¸€å€‹è¡Œç¨‹</button>
        </div>
    </div>

    <!-- Day 4 - 10 çµæ§‹å®Œæ•´è£œé½Š -->
    <div id="day4" class="page"><div class="card"><h2 class="editable">Day 4: å¾€åŒ—å‡ºç™¼</h2><table class="time-table" id="table-day4"></table><button class="add-trip-btn" onclick="addTripRow('table-day4')">â• æ–°å¢ä¸€å€‹è¡Œç¨‹</button></div></div>
    
    <div id="day5" class="page"><div class="card"><h2 class="editable">Day 5: ä¸¹éº¥æ‘</h2><table class="time-table" id="table-day5"></table><button class="add-trip-btn" onclick="addTripRow('table-day5')">â• æ–°å¢ä¸€å€‹è¡Œç¨‹</button></div></div>
    
    <div id="day6" class="page"><div class="card"><h2 class="editable">Day 6: è’™ç‰¹é›·</h2><table class="time-table" id="table-day6"></table><button class="add-trip-btn" onclick="addTripRow('table-day6')">â• æ–°å¢ä¸€å€‹è¡Œç¨‹</button></div></div>
    
    <div id="day7" class="page"><div class="card"><h2 class="editable">Day 7: å¾€èˆŠé‡‘å±±</h2><table class="time-table" id="table-day7"></table><button class="add-trip-btn" onclick="addTripRow('table-day7')">â• æ–°å¢ä¸€å€‹è¡Œç¨‹</button></div></div>
    
    <div id="day8" class="page"><div class="card"><h2 class="editable">Day 8: èˆŠé‡‘å±±åœ°æ¨™</h2><table class="time-table" id="table-day8"></table><button class="add-trip-btn" onclick="addTripRow('table-day8')">â• æ–°å¢ä¸€å€‹è¡Œç¨‹</button></div></div>
    
    <div id="day9" class="page"><div class="card"><h2 class="editable">Day 9: æµ·ç£é¢¨æƒ…</h2><table class="time-table" id="table-day9"></table><button class="add-trip-btn" onclick="addTripRow('table-day9')">â• æ–°å¢ä¸€å€‹è¡Œç¨‹</button></div></div>
    
    <div id="day10" class="page"><div class="card"><h2 class="editable">Day 10: è¿”å®¶</h2><table class="time-table" id="table-day10"></table><button class="add-trip-btn" onclick="addTripRow('table-day10')">â• æ–°å¢ä¸€å€‹è¡Œç¨‹</button></div></div>

</div>

<nav class="tab-bar">
    <div class="tab active" onclick="switchTab('home')">ç¸½è¦½</div>
    <div class="tab" onclick="switchTab('day1')">D1</div>
    <div class="tab" onclick="switchTab('day2')">D2</div>
    <div class="tab" onclick="switchTab('day3')">D3</div>
    <div class="tab" onclick="switchTab('day4')">D4</div>
    <div class="tab" onclick="switchTab('day5')">D5</div>
    <div class="tab" onclick="switchTab('day6')">D6</div>
    <div class="tab" onclick="switchTab('day7')">D7</div>
    <div class="tab" onclick="switchTab('day8')">D8</div>
    <div class="tab" onclick="switchTab('day9')">D9</div>
    <div class="tab" onclick="switchTab('day10')">D10</div>
</nav>

<script>
    window.onload = function() {
        var saved = localStorage.getItem('trip_content_v5');
        if (saved) document.getElementById('mainContent').innerHTML = saved;
        // æ¢å¾©ä¸Šæ¬¡è¨­å®šçš„å­—é«”å¤§å°
        var savedSize = localStorage.getItem('trip_font_size');
        if (savedSize) document.body.style.fontSize = savedSize + 'px';
    }

    function switchTab(pageId) {
        document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
        var t = document.getElementById(pageId);
        if(t) { t.classList.add('active'); event.currentTarget.classList.add('active'); window.scrollTo(0, 0); }
    }

    // å…¨åŸŸå­—é«”èª¿æ•´
    function changeGlobalFont(delta) {
        var style = window.getComputedStyle(document.body, null).getPropertyValue('font-size');
        var currentSize = parseFloat(style);
        var newSize = currentSize + delta;
        if(newSize >= 14 && newSize <= 30) {
            document.body.style.fontSize = newSize + 'px';
            localStorage.setItem('trip_font_size', newSize);
        }
    }

    // è‡ªå‹•æ–°å¢è¡Œç¨‹åŠŸèƒ½
    function addTripRow(tableId) {
        var table = document.getElementById(tableId);
        var row = table.insertRow(-1);
        row.innerHTML = `
            <th class="editable" contenteditable="true">æ™‚é–“</th>
            <td>
                <details open>
                    <summary class="editable" contenteditable="true">æ–°æ™¯é»åç¨± (é»æ“Šä¿®æ”¹)</summary>
                    <div class="detail-content">
                        <div class="editable-content editable" contenteditable="true">
                            è«‹è¼¸å…¥è©³ç´°ä»‹ç´¹...<br>ç‰¹è‰²ã€æ³¨æ„äº‹é …ç­‰ã€‚
                        </div>
                        <div class="img-container">
                            <div class="editable" contenteditable="true">(é»æ“Šåœ–ç‰‡å€å¡Šå¯æ›åœ–)</div>
                        </div>
                    </div>
                </details>
            </td>
        `;
        // ç¶å®šæ›åœ–äº‹ä»¶
        bindImgClick();
    }

    var isEditing = false;
    function toggleEditMode() {
        isEditing = !isEditing;
        var editables = document.querySelectorAll('.editable');
        var btn = document.getElementById('editBtn');
        var saveBtn = document.getElementById('saveBtn');
        var exportBtn = document.getElementById('exportBtn');
        var addBtns = document.querySelectorAll('.add-trip-btn');

        if (isEditing) {
            btn.innerHTML = 'âŒ';
            saveBtn.style.display = 'flex';
            exportBtn.style.display = 'flex';
            addBtns.forEach(b => b.style.display = 'block'); // é¡¯ç¤ºæ–°å¢æŒ‰éˆ•
            
            document.querySelectorAll('details').forEach(el => el.setAttribute('open', 'true'));
            editables.forEach(el => el.setAttribute('contenteditable', 'true'));
            bindImgClick();
            
            alert('âœï¸ ç·¨è¼¯æ¨¡å¼é–‹å•Ÿï¼\n- å¯ç›´æ¥ä¿®æ”¹æ–‡å­—\n- é»ã€Œâ•ã€å¯æ–°å¢è¡Œç¨‹\n- é»åœ–ç‰‡å¯æ›´æ›');
        } else {
            btn.innerHTML = 'âœï¸';
            saveBtn.style.display = 'none';
            exportBtn.style.display = 'none';
            addBtns.forEach(b => b.style.display = 'none'); // éš±è—æ–°å¢æŒ‰éˆ•
            
            editables.forEach(el => el.setAttribute('contenteditable', 'false'));
            unbindImgClick();
        }
    }

    function bindImgClick() {
        document.querySelectorAll('.img-container, .editable-img').forEach(div => {
            div.style.border = "2px dashed #f00";
            div.style.cursor = "pointer";
            div.onclick = function(e) {
                // é¿å…è§¸ç™¼ summary çš„é»æ“Š
                e.preventDefault();
                e.stopPropagation();
                var newSrc = prompt("è«‹è¼¸å…¥æ–°åœ–ç‰‡ç¶²å€:", "");
                if(newSrc) {
                    // å¦‚æœåŸæœ¬åªæœ‰æ–‡å­—divï¼Œæ›æˆimgæ¨™ç±¤
                    this.innerHTML = '<img src="' + newSrc + '" class="editable-img">';
                }
            }
        });
    }

    function unbindImgClick() {
        document.querySelectorAll('.img-container, .editable-img').forEach(div => {
            div.style.border = "none";
            div.style.cursor = "default";
            div.onclick = null;
        });
    }

    function saveContent() {
        var editables = document.querySelectorAll('.editable');
        editables.forEach(el => el.removeAttribute('contenteditable'));
        var content = document.getElementById('mainContent').innerHTML;
        localStorage.setItem('trip_content_v5', content);
        alert('âœ… å„²å­˜æˆåŠŸï¼');
        toggleEditMode();
    }

    function exportHtml() {
        var fullHtml = document.documentElement.outerHTML;
        navigator.clipboard.writeText(fullHtml).then(function() {
            alert('ğŸ“‹ å®Œæ•´åŸå§‹ç¢¼å·²è¤‡è£½ï¼');
        }, function() { alert('è¤‡è£½å¤±æ•—'); });
    }
</script>

</body>
</html>
